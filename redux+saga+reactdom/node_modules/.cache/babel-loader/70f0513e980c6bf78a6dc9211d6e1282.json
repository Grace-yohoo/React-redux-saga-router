{"ast":null,"code":"//请求方法\n// export const fetcha = (url,data) => {\n//     fetch(url,{\n//       method: 'POST', \n//       body: JSON.stringify(data),\n//       headers: new Headers({\n//         'Content-Type': 'application/x-www-form-urlencoded'\n//       })\n//     })\n//     .then(res => res.json())\n// }\n//初始fetch方法\nexport const fetchb = function* (url) {\n  const res = yield fetch(url);\n  const data = yield res.json();\n  return data;\n}; //搜索条件匹配fetch方法\n\nexport const fetchc = function* (url, data) {\n  const res = yield fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: new Headers({\n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  });\n  const data1 = yield res.json();\n  return data1;\n}; //添加key\n\nexport const change = function (response) {\n  for (let k in response) {\n    response[k].key = response[k].id;\n  }\n\n  return response;\n}; //fetch数据后 添加key\n\nexport const fetch1 = function* () {\n  const response = yield fetchb('http://localhost:8080/');\n  const data = yield change(response);\n  return data;\n}; //mysql修改\n\nexport const datamql2 = function* (val) {\n  const data1 = yield val.data;\n  const fedata = yield val.data2;\n  yield fetchc(\"http://localhost:8080/\".concat(fedata), data1);\n  const data2 = yield fetch1();\n  return data2;\n}; //mysql搜索\n\nexport const datamql3 = function* (val) {\n  const data1 = yield val.data;\n  const fedata = yield val.data2;\n  const response = yield fetchc(\"http://localhost:8080/\".concat(fedata), data1);\n  const data2 = yield change(response);\n  return data2;\n};","map":{"version":3,"sources":["/home/grace/test/redux+saga+reactdom/src/Request/request.js"],"names":["fetchb","url","res","fetch","data","json","fetchc","method","body","JSON","stringify","headers","Headers","data1","change","response","k","key","id","fetch1","datamql2","val","fedata","data2","datamql3"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,OAAO,MAAMA,MAAM,GAAI,WAAWC,GAAX,EAAe;AACpC,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAD,CAAvB;AAEA,QAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AAEA,SAAOD,IAAP;AAED,CAPM,C,CASP;;AACA,OAAO,MAAME,MAAM,GAAI,WAAWL,GAAX,EAAeG,IAAf,EAAoB;AACzC,QAAMF,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAD,EAAK;AACxBM,IAAAA,MAAM,EAAE,MADgB;AAExBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAFkB;AAGxBO,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,sBAAgB;AADG,KAAZ;AAHe,GAAL,CAAvB;AAOA,QAAMC,KAAK,GAAG,MAAMX,GAAG,CAACG,IAAJ,EAApB;AAEA,SAAOQ,KAAP;AAED,CAZM,C,CAcP;;AACA,OAAO,MAAMC,MAAM,GAAG,UAASC,QAAT,EAAmB;AAEvC,OAAK,IAAIC,CAAT,IAAcD,QAAd,EAAuB;AACvBA,IAAAA,QAAQ,CAACC,CAAD,CAAR,CAAYC,GAAZ,GAAkBF,QAAQ,CAACC,CAAD,CAAR,CAAYE,EAA9B;AACC;;AACD,SAAOH,QAAP;AAED,CAPM,C,CASP;;AACA,OAAO,MAAMI,MAAM,GAAG,aAAY;AAEhC,QAAMJ,QAAQ,GAAG,MAAMf,MAAM,CAAC,wBAAD,CAA7B;AAEA,QAAMI,IAAI,GAAG,MAAMU,MAAM,CAACC,QAAD,CAAzB;AAEA,SAAOX,IAAP;AAED,CARM,C,CAWP;;AACA,OAAO,MAAMgB,QAAQ,GAAG,WAAWC,GAAX,EAAe;AACrC,QAAMR,KAAK,GAAG,MAAMQ,GAAG,CAACjB,IAAxB;AAEA,QAAMkB,MAAM,GAAG,MAAMD,GAAG,CAACE,KAAzB;AAEA,QAAMjB,MAAM,iCAA0BgB,MAA1B,GAAmCT,KAAnC,CAAZ;AAEA,QAAMU,KAAK,GAAG,MAAMJ,MAAM,EAA1B;AAEA,SAAOI,KAAP;AACD,CAVM,C,CAYP;;AACA,OAAO,MAAMC,QAAQ,GAAG,WAAWH,GAAX,EAAe;AACrC,QAAMR,KAAK,GAAG,MAAMQ,GAAG,CAACjB,IAAxB;AAEA,QAAMkB,MAAM,GAAG,MAAMD,GAAG,CAACE,KAAzB;AAEA,QAAMR,QAAQ,GAAG,MAAMT,MAAM,iCAA0BgB,MAA1B,GAAmCT,KAAnC,CAA7B;AAEA,QAAMU,KAAK,GAAG,MAAMT,MAAM,CAACC,QAAD,CAA1B;AAEA,SAAOQ,KAAP;AACD,CAVM","sourcesContent":["//请求方法\n// export const fetcha = (url,data) => {\n//     fetch(url,{\n//       method: 'POST', \n//       body: JSON.stringify(data),\n//       headers: new Headers({\n//         'Content-Type': 'application/x-www-form-urlencoded'\n//       })\n//     })\n//     .then(res => res.json())\n// }\n\n//初始fetch方法\nexport const fetchb =  function* (url){\n  const res = yield fetch(url)\n\n  const data = yield res.json()\n\n  return data\n\n}\n\n//搜索条件匹配fetch方法\nexport const fetchc =  function* (url,data){\n  const res = yield fetch(url,{\n      method: 'POST', \n      body: JSON.stringify(data),\n      headers: new Headers({\n        'Content-Type': 'application/x-www-form-urlencoded'\n      })\n  })\n  const data1 = yield res.json()\n\n  return data1\n\n}\n\n//添加key\nexport const change = function(response) {\n\n  for (let k in response){\n  response[k].key = response[k].id\n  }\n  return response\n\n}\n\n//fetch数据后 添加key\nexport const fetch1 = function* (){\n\n  const response = yield fetchb('http://localhost:8080/')\n\n  const data = yield change(response)\n  \n  return data\n\n}\n\n\n//mysql修改\nexport const datamql2 = function* (val){\n  const data1 = yield val.data\n\n  const fedata = yield val.data2\n\n  yield fetchc(`http://localhost:8080/${fedata}`,data1)\n\n  const data2 = yield fetch1()\n\n  return data2\n}\n\n//mysql搜索\nexport const datamql3 = function* (val){\n  const data1 = yield val.data\n\n  const fedata = yield val.data2\n\n  const response = yield fetchc(`http://localhost:8080/${fedata}`,data1)\n\n  const data2 = yield change(response)\n\n  return data2\n}"]},"metadata":{},"sourceType":"module"}