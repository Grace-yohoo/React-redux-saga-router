{"ast":null,"code":"import { put, takeEvery } from 'redux-saga/effects';\nimport { fetcha, fetchc, change, fetch1, datamql, datamql2 } from '../Request/request'; //put 与actiontype相同\n//Mysql 请求数据 (初始渲染  重置)\n\nfunction* fetchUser() {\n  const data = yield fetch1();\n  yield put({\n    type: \"fetch\",\n    payload: data\n  });\n} //MYSQL 删除\n\n\nfunction* mysqlDelFectch(val) {\n  const data2 = yield datamql2(val);\n  yield put({\n    type: \"fetch\",\n    payload: data2\n  });\n} //MYSQL 添加\n\n\nfunction* mysqlAddFectch(val) {\n  const data2 = yield datamql(val);\n  yield put({\n    type: 'fetch',\n    payload: data2\n  });\n} //MYSQL 搜索\n\n\nfunction* mysqlSearchFectch(val) {\n  const data = val.data;\n  const fedata = val.data2;\n  const res = yield fetch(\"http://localhost:8080/\".concat(fedata), {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: new Headers({\n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  });\n  const response = yield res.json();\n  const data2 = yield change(response); // const data2 = yield datamql2(val)\n\n  yield put({\n    type: 'search',\n    payload: data2\n  });\n} //MYSQL 修改\n\n\nfunction* mysqlSaveFectch(val) {\n  const data2 = yield datamql2(val);\n  yield put({\n    type: 'fetch',\n    payload: data2\n  });\n} //监听与组件type相同\n\n\nfunction* mySaga() {\n  yield takeEvery(\"feh\", fetchUser);\n  yield takeEvery('del', mysqlDelFectch);\n  yield takeEvery('add', mysqlAddFectch);\n  yield takeEvery('sear', mysqlSearchFectch);\n  yield takeEvery('sav', mysqlSaveFectch);\n}\n\nexport default mySaga;","map":{"version":3,"sources":["/home/grace/test/redux+saga+reactdom/src/saga/index.js"],"names":["put","takeEvery","fetcha","fetchc","change","fetch1","datamql","datamql2","fetchUser","data","type","payload","mysqlDelFectch","val","data2","mysqlAddFectch","mysqlSearchFectch","fedata","res","fetch","method","body","JSON","stringify","headers","Headers","response","json","mysqlSaveFectch","mySaga"],"mappings":"AAAA,SAASA,GAAT,EAAcC,SAAd,QAA+B,oBAA/B;AACA,SAASC,MAAT,EAAgBC,MAAhB,EAAuBC,MAAvB,EAA8BC,MAA9B,EAAqCC,OAArC,EAA6CC,QAA7C,QAA4D,oBAA5D,C,CAIA;AACA;;AACA,UAAUC,SAAV,GAAsB;AAClB,QAAMC,IAAI,GAAG,MAAMJ,MAAM,EAAzB;AAEA,QAAML,GAAG,CAAC;AAACU,IAAAA,IAAI,EAAE,OAAP;AAAgBC,IAAAA,OAAO,EAACF;AAAxB,GAAD,CAAT;AACH,C,CAED;;;AACA,UAAUG,cAAV,CAAyBC,GAAzB,EAA6B;AAEzB,QAAMC,KAAK,GAAG,MAAMP,QAAQ,CAACM,GAAD,CAA5B;AAEA,QAAMb,GAAG,CAAC;AAACU,IAAAA,IAAI,EAAE,OAAP;AAAgBC,IAAAA,OAAO,EAACG;AAAxB,GAAD,CAAT;AACH,C,CAED;;;AACA,UAAUC,cAAV,CAAyBF,GAAzB,EAA6B;AAEzB,QAAMC,KAAK,GAAG,MAAMR,OAAO,CAACO,GAAD,CAA3B;AAEA,QAAMb,GAAG,CAAE;AAACU,IAAAA,IAAI,EAAC,OAAN;AAAeC,IAAAA,OAAO,EAACG;AAAvB,GAAF,CAAT;AACH,C,CAED;;;AACA,UAAUE,iBAAV,CAA4BH,GAA5B,EAAgC;AAE7B,QAAMJ,IAAI,GAAGI,GAAG,CAACJ,IAAjB;AACA,QAAMQ,MAAM,GAAGJ,GAAG,CAACC,KAAnB;AAEA,QAAMI,GAAG,GAAG,MAAMC,KAAK,iCAA0BF,MAA1B,GAAoC;AACxDG,IAAAA,MAAM,EAAE,MADgD;AAExDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAed,IAAf,CAFkD;AAGxDe,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,sBAAgB;AADG,KAAZ;AAH+C,GAApC,CAAvB;AAQC,QAAMC,QAAQ,GAAG,MAAMR,GAAG,CAACS,IAAJ,EAAvB;AAEA,QAAMb,KAAK,GAAG,MAAMV,MAAM,CAACsB,QAAD,CAA1B,CAf4B,CAiB5B;;AAEA,QAAM1B,GAAG,CAAE;AAACU,IAAAA,IAAI,EAAC,QAAN;AAAgBC,IAAAA,OAAO,EAACG;AAAxB,GAAF,CAAT;AAED,C,CAIH;;;AACA,UAAUc,eAAV,CAA0Bf,GAA1B,EAA8B;AAC1B,QAAMC,KAAK,GAAG,MAAMP,QAAQ,CAACM,GAAD,CAA5B;AAEA,QAAMb,GAAG,CAAC;AAACU,IAAAA,IAAI,EAAC,OAAN;AAAcC,IAAAA,OAAO,EAACG;AAAtB,GAAD,CAAT;AACH,C,CAGD;;;AACC,UAAUe,MAAV,GAAmB;AACjB,QAAM5B,SAAS,CAAC,KAAD,EAAQO,SAAR,CAAf;AACA,QAAMP,SAAS,CAAC,KAAD,EAAQW,cAAR,CAAf;AACA,QAAMX,SAAS,CAAC,KAAD,EAAQc,cAAR,CAAf;AACA,QAAMd,SAAS,CAAC,MAAD,EAASe,iBAAT,CAAf;AACA,QAAMf,SAAS,CAAC,KAAD,EAAQ2B,eAAR,CAAf;AACD;;AAGD,eAAeC,MAAf","sourcesContent":["import { put, takeEvery } from 'redux-saga/effects';\nimport { fetcha,fetchc,change,fetch1,datamql,datamql2} from '../Request/request'\n\n\n\n//put 与actiontype相同\n//Mysql 请求数据 (初始渲染  重置)\nfunction* fetchUser() {\n    const data = yield fetch1()\n\n    yield put({type: \"fetch\", payload:data});   \n}\n\n//MYSQL 删除\nfunction* mysqlDelFectch(val){\n\n    const data2 = yield datamql2(val)\n\n    yield put({type: \"fetch\", payload:data2});\n}\n\n//MYSQL 添加\nfunction* mysqlAddFectch(val){\n\n    const data2 = yield datamql(val)\n\n    yield put ({type:'fetch' ,payload:data2})\n}\n\n//MYSQL 搜索\nfunction* mysqlSearchFectch(val){\n\n   const data = val.data\n   const fedata = val.data2\n\n   const res = yield fetch(`http://localhost:8080/${fedata}`, {\n      method: 'POST', \n      body: JSON.stringify(data),\n      headers: new Headers({\n        'Content-Type': 'application/x-www-form-urlencoded'\n      })\n    })\n\n    const response = yield res.json()\n\n    const data2 = yield change(response)\n\n    // const data2 = yield datamql2(val)\n\n    yield put ({type:'search' ,payload:data2})\n\n  }\n\n  \n\n//MYSQL 修改\nfunction* mysqlSaveFectch(val){\n    const data2 = yield datamql2(val)\n\n    yield put({type:'fetch',payload:data2})\n}\n\n\n//监听与组件type相同\n function* mySaga() {\n   yield takeEvery(\"feh\", fetchUser);\n   yield takeEvery('del', mysqlDelFectch)\n   yield takeEvery('add', mysqlAddFectch)\n   yield takeEvery('sear', mysqlSearchFectch)\n   yield takeEvery('sav', mysqlSaveFectch)\n }\n\n \n export default mySaga;\n\n"]},"metadata":{},"sourceType":"module"}