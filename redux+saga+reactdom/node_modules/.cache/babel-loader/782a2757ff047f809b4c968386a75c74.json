{"ast":null,"code":"//请求方法\nexport const fetcha = (url, data) => {\n  fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: new Headers({\n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  }).then(res => res.json());\n}; //初始fetch方法\n\nexport const fetchb = function* (url) {\n  const res = yield fetch(url);\n  const data = yield res.json();\n  return data;\n}; //搜索条件匹配fetch方法\n\nexport const fetchc = function* (url, data) {\n  const res = yield fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: new Headers({\n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  });\n  const data1 = yield res.json();\n  return data1;\n}; //添加key\n// export const addkey = function(response) {\n//   for (let k in response){\n//   response[k].key = response[k].id\n//   }\n//   return response\n// }\n//fetch数据后 添加key\n// export const fetch1 = function* (){\n//   const response = yield fetchb('http://localhost:8080/')\n//   const data = yield change(response)\n//   return data\n// }\n//Model 页面\n\nexport const model = {\n  localhost: \"http://localhost:8080/\",\n  //添加key\n  addkey: function (response) {\n    for (let k in response) {\n      response[k].key = response[k].id;\n    }\n\n    return response;\n  },\n  //fetch渲染数据\n  fetch1: function* () {\n    const response = yield fetchb(this.localhost); // const data = yield addkey(response)\n\n    return response;\n  },\n  //删除 添加 修改\n  change: function* (fedata, data1) {\n    yield fetchc(this.localhost + fedata, data1);\n  },\n  //搜索\n  datamql3: function* (val) {\n    const data1 = yield val.data;\n    const fedata = yield val.data2;\n    const response = yield fetchc(this.localhost + fedata, data1); // const data2 = yield addkey(response)\n\n    return data2;\n  }\n};","map":{"version":3,"sources":["/home/grace/test/redux+saga+reactdom/src/Request/request.js"],"names":["fetcha","url","data","fetch","method","body","JSON","stringify","headers","Headers","then","res","json","fetchb","fetchc","data1","model","localhost","addkey","response","k","key","id","fetch1","change","fedata","datamql3","val","data2"],"mappings":"AACA;AACA,OAAO,MAAMA,MAAM,GAAG,CAACC,GAAD,EAAKC,IAAL,KAAc;AAChCC,EAAAA,KAAK,CAACF,GAAD,EAAK;AACRG,IAAAA,MAAM,EAAE,MADA;AAERC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAFE;AAGRM,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,sBAAgB;AADG,KAAZ;AAHD,GAAL,CAAL,CAOCC,IAPD,CAOMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPb;AAQH,CATM,C,CAYP;;AACA,OAAO,MAAMC,MAAM,GAAI,WAAWZ,GAAX,EAAe;AACpC,QAAMU,GAAG,GAAG,MAAMR,KAAK,CAACF,GAAD,CAAvB;AAEA,QAAMC,IAAI,GAAG,MAAMS,GAAG,CAACC,IAAJ,EAAnB;AAEA,SAAOV,IAAP;AAED,CAPM,C,CASP;;AACA,OAAO,MAAMY,MAAM,GAAI,WAAWb,GAAX,EAAeC,IAAf,EAAoB;AACzC,QAAMS,GAAG,GAAG,MAAMR,KAAK,CAACF,GAAD,EAAK;AACxBG,IAAAA,MAAM,EAAE,MADgB;AAExBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAFkB;AAGxBM,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,sBAAgB;AADG,KAAZ;AAHe,GAAL,CAAvB;AAOA,QAAMM,KAAK,GAAG,MAAMJ,GAAG,CAACC,IAAJ,EAApB;AAEA,SAAOG,KAAP;AAED,CAZM,C,CAcP;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AAGA;;AACA,OAAO,MAAMC,KAAK,GAAG;AAEjBC,EAAAA,SAAS,EAAG,wBAFK;AAGjB;AACAC,EAAAA,MAAM,EAAC,UAASC,QAAT,EAAmB;AAExB,SAAK,IAAIC,CAAT,IAAcD,QAAd,EAAuB;AACvBA,MAAAA,QAAQ,CAACC,CAAD,CAAR,CAAYC,GAAZ,GAAkBF,QAAQ,CAACC,CAAD,CAAR,CAAYE,EAA9B;AACC;;AACD,WAAOH,QAAP;AAED,GAXgB;AAYjB;AACAI,EAAAA,MAAM,EAAC,aAAY;AAEjB,UAAMJ,QAAQ,GAAG,MAAMN,MAAM,CAAC,KAAKI,SAAN,CAA7B,CAFiB,CAIjB;;AAEA,WAAOE,QAAP;AACD,GApBgB;AAqBjB;AACAK,EAAAA,MAAM,EAAC,WAAWC,MAAX,EAAkBV,KAAlB,EAAwB;AAE7B,UAAMD,MAAM,CAAC,KAAKG,SAAL,GAAeQ,MAAhB,EAAuBV,KAAvB,CAAZ;AAED,GA1BgB;AA2BjB;AACAW,EAAAA,QAAQ,EAAE,WAAWC,GAAX,EAAe;AACvB,UAAMZ,KAAK,GAAG,MAAMY,GAAG,CAACzB,IAAxB;AAEA,UAAMuB,MAAM,GAAG,MAAME,GAAG,CAACC,KAAzB;AAEA,UAAMT,QAAQ,GAAG,MAAML,MAAM,CAAC,KAAKG,SAAL,GAAeQ,MAAhB,EAAuBV,KAAvB,CAA7B,CALuB,CAOvB;;AAEA,WAAOa,KAAP;AACD;AAtCgB,CAAd","sourcesContent":["\n//请求方法\nexport const fetcha = (url,data) => {\n    fetch(url,{\n      method: 'POST', \n      body: JSON.stringify(data),\n      headers: new Headers({\n        'Content-Type': 'application/x-www-form-urlencoded'\n      })\n    })\n    .then(res => res.json())\n}\n\n\n//初始fetch方法\nexport const fetchb =  function* (url){\n  const res = yield fetch(url)\n\n  const data = yield res.json()\n\n  return data\n\n}\n\n//搜索条件匹配fetch方法\nexport const fetchc =  function* (url,data){\n  const res = yield fetch(url,{\n      method: 'POST', \n      body: JSON.stringify(data),\n      headers: new Headers({\n        'Content-Type': 'application/x-www-form-urlencoded'\n      })\n  })\n  const data1 = yield res.json()\n\n  return data1\n\n}\n\n//添加key\n// export const addkey = function(response) {\n\n//   for (let k in response){\n//   response[k].key = response[k].id\n//   }\n//   return response\n\n// }\n\n//fetch数据后 添加key\n// export const fetch1 = function* (){\n\n//   const response = yield fetchb('http://localhost:8080/')\n\n//   const data = yield change(response)\n  \n//   return data\n\n// }\n\n\n//Model 页面\nexport const model = {\n\n    localhost : \"http://localhost:8080/\",\n    //添加key\n    addkey:function(response) {\n\n      for (let k in response){\n      response[k].key = response[k].id\n      }\n      return response\n    \n    },\n    //fetch渲染数据\n    fetch1:function* (){\n\n      const response = yield fetchb(this.localhost)\n    \n      // const data = yield addkey(response)\n      \n      return response \n    },\n    //删除 添加 修改\n    change:function* (fedata,data1){\n    \n      yield fetchc(this.localhost+fedata,data1)\n    \n    },\n    //搜索\n    datamql3 :function* (val){\n      const data1 = yield val.data\n    \n      const fedata = yield val.data2\n    \n      const response = yield fetchc(this.localhost+fedata,data1)\n    \n      // const data2 = yield addkey(response)\n    \n      return data2\n    }\n}\n"]},"metadata":{},"sourceType":"module"}